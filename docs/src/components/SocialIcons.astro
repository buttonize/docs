---
import { Icon } from '@astrojs/starlight/components'
import config from 'virtual:starlight/user-config'

type Platform = keyof NonNullable<typeof config.social>
type SocialConfig = NonNullable<NonNullable<typeof config.social>[Platform]>
const links = Object.entries(config.social ?? {}) as [Platform, SocialConfig][]
---

{
	links.length > 0 ? (
		<>
			<div>
				<a
					class="action font-bold"
					href="https://app.buttonize.io"
					target="_blank"
				>
					Sign-in
				</a>
			</div>
			{links.map(([platform, { label, url }]) => (
				<a href={url} rel="me" class="sl-flex" target="_blank">
					<span class="sr-only">{label}</span>
					<Icon name={platform} />
				</a>
			))}
		</>
	) : null
}

<style>
	a {
		color: var(--sl-color-text-accent);
		padding: 0.5em;
		margin: -0.5em;
	}
	a:hover {
		opacity: 0.66;
	}

	.action {
		border-radius: 0.75rem;
		padding: 0.1rem 0.1rem;
		color: var(--sl-color-white);
		line-height: 1.1875;
		text-decoration: none;
		font-size: var(--sl-text-sm);
		background: var(--sl-color-text-accent);
		color: var(--sl-color-black);
	}

	@media (min-width: 50rem) {
		.action {
			font-size: var(--sl-text-sm);
			padding: 0.5rem 0.7rem;
		}
	}
</style>
